<!doctype html>
<html lang='en'>
	<head>
		<title>Map My Article</title>
		
		<link href='http://fonts.googleapis.com/css?family=Ubuntu:400,400italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/leaflet.css" />
		<link href='css/feedmapper.css' rel='stylesheet' type='text/css'>
		
		<meta charset='utf8'>

	</head>

	<body>
		<h1>Map My Article</h1>
		
		<p>search for a global development article on the Guardian</p>
			<form id='article-search'>
				<input id='country' placeholder='search for a country name'>
				<button type='submit'>search</button>
			</form>
<br clear="all">
         
	<main class="article-container">

		<section>
		<!-- <template id="article-template"> -->

	<!-- 
		</template>
	 -->
	</section>
	</main>

	<aside>

		<div id="map">
		</div>
	
	</aside>


	<script src='https://code.jquery.com/jquery-2.1.1.min.js'></script>
	<script src='js/leaflet.js'></script>	
	<script src='js/map.js'></script>


	<script>
	$(document).ready(function(){
		$('#article-search').on('submit', function(e){
			e.preventDefault();

			var url = 'http://content.guardianapis.com/search?section=global-development&page-size=20&q=' + $('#country').val() + '&api-key=test';
			
			// below is the callback function
			var searchData = $.get(url, function(results){

				if(results.response.total == 0) {
					alert('Could not find any content.');

				} else {
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][0]['webUrl'] + '" target="_blank"> ' + results['response']['results'][0]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][1]['webUrl'] + '" target="_blank"> ' + results['response']['results'][1]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][2]['webUrl'] + '" target="_blank"> ' + results['response']['results'][2]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][3]['webUrl'] + '" target="_blank"> ' + results['response']['results'][3]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][4]['webUrl'] + '" target="_blank"> ' + results['response']['results'][4]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][5]['webUrl'] + '" target="_blank"> ' + results['response']['results'][5]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][6]['webUrl'] + '" target="_blank"> ' + results['response']['results'][6]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][7]['webUrl'] + '" target="_blank"> ' + results['response']['results'][7]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][8]['webUrl'] + '" target="_blank"> ' + results['response']['results'][8]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][9]['webUrl'] + '" target="_blank"> ' + results['response']['results'][9]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][10]['webUrl'] + '" target="_blank"> ' + results['response']['results'][10]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][11]['webUrl'] + '" target="_blank"> ' + results['response']['results'][11]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][12]['webUrl'] + '" target="_blank"> ' + results['response']['results'][12]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][13]['webUrl'] + '" target="_blank"> ' + results['response']['results'][13]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][14]['webUrl'] + '" target="_blank"> ' + results['response']['results'][14]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][15]['webUrl'] + '" target="_blank"> ' + results['response']['results'][15]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][16]['webUrl'] + '" target="_blank"> ' + results['response']['results'][16]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][17]['webUrl'] + '" target="_blank"> ' + results['response']['results'][17]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][18]['webUrl'] + '" target="_blank"> ' + results['response']['results'][18]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
					$('<article class="summary"><section class="title"><a href=" ' + results['response']['results'][19]['webUrl'] + '" target="_blank"> ' + results['response']['results'][19]['webTitle'] + '</a></p></strong></article>').appendTo('.article-container');
				}

			})
		})
	})
	</script>

	</body>